package com.hc;

import lombok.extern.slf4j.Slf4j;
import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

/**
 * 类描述:
 *
 * @author HuangChao
 * @since 2025/06/17
 */
@Slf4j
@SpringBootTest
public class JsonTest {

    @Test
    void testStrToJsonStr() {
        String str = "[[ConfStaff4DistributeDTO(staffId=14140599, staffName=王贵亚, staffNumber=zmn001524, orgId=10, orgName=啄木鸟, deptId=6311, deptName=投诉处理1组, positionId=8, positionName=普通投诉处理岗（正式）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=成昱峰, updater=张钿, createTime=Thu Nov 02 18:26:21 CST 2023, updateTime=Mon Apr 21 17:36:40 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=70, baseQuotaLv2=70, baseQuotaLv3=70, maxQuotaLv1=90, maxQuotaLv2=90, maxQuotaLv3=90, maxProcessQuotaLv1=1000, maxProcessQuotaLv2=1000, maxProcessQuotaLv3=1000, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0), ConfStaff4DistributeDTO(staffId=14139607, staffName=杨道林, staffNumber=zmn000870, orgId=10, orgName=啄木鸟, deptId=4635, deptName=语音客服一组, positionId=8, positionName=普通投诉处理岗（正式）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=徐兴国, updater=张钿, createTime=Tue May 28 16:43:01 CST 2024, updateTime=Mon Apr 21 17:36:40 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=70, baseQuotaLv2=70, baseQuotaLv3=70, maxQuotaLv1=90, maxQuotaLv2=90, maxQuotaLv3=90, maxProcessQuotaLv1=1000, maxProcessQuotaLv2=1000, maxProcessQuotaLv3=1000, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0), ConfStaff4DistributeDTO(staffId=14140658, staffName=何理丰, staffNumber=zmn001557, orgId=10, orgName=啄木鸟, deptId=4635, deptName=语音客服一组, positionId=8, positionName=普通投诉处理岗（正式）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=徐兴国, updater=张钿, createTime=Sun Jun 23 09:15:35 CST 2024, updateTime=Sun Jun 08 13:39:52 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=70, baseQuotaLv2=70, baseQuotaLv3=70, maxQuotaLv1=90, maxQuotaLv2=90, maxQuotaLv3=90, maxProcessQuotaLv1=1000, maxProcessQuotaLv2=1000, maxProcessQuotaLv3=1000, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0), ConfStaff4DistributeDTO(staffId=14145249, staffName=杨燕, staffNumber=zmn004395, orgId=10, orgName=啄木鸟, deptId=5189, deptName=语音客服二组, positionId=8, positionName=普通投诉处理岗（正式）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=徐兴国, updater=王明明, createTime=Tue May 28 16:44:10 CST 2024, updateTime=Mon Jun 09 11:47:27 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=70, baseQuotaLv2=70, baseQuotaLv3=70, maxQuotaLv1=90, maxQuotaLv2=90, maxQuotaLv3=90, maxProcessQuotaLv1=1000, maxProcessQuotaLv2=1000, maxProcessQuotaLv3=1000, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0), ConfStaff4DistributeDTO(staffId=14147856, staffName=曾庆逸, staffNumber=zmn005818, orgId=10, orgName=啄木鸟, deptId=6576, deptName=客诉二组, positionId=8, positionName=普通投诉处理岗（正式）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=徐兴国, updater=王明明, createTime=Fri Jun 28 10:14:47 CST 2024, updateTime=Mon Jun 09 11:47:35 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=70, baseQuotaLv2=70, baseQuotaLv3=70, maxQuotaLv1=90, maxQuotaLv2=90, maxQuotaLv3=90, maxProcessQuotaLv1=1000, maxProcessQuotaLv2=1000, maxProcessQuotaLv3=1000, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0), ConfStaff4DistributeDTO(staffId=14142542, staffName=程晓涵, staffNumber=zmn002803, orgId=10, orgName=啄木鸟, deptId=6610, deptName=客诉三组, positionId=8, positionName=普通投诉处理岗（正式）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=张钿, updater=王明明, createTime=Mon Mar 10 10:13:40 CST 2025, updateTime=Mon Jun 09 11:47:54 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=70, baseQuotaLv2=70, baseQuotaLv3=70, maxQuotaLv1=90, maxQuotaLv2=90, maxQuotaLv3=90, maxProcessQuotaLv1=1000, maxProcessQuotaLv2=1000, maxProcessQuotaLv3=1000, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0), ConfStaff4DistributeDTO(staffId=14153501, staffName=温清红, staffNumber=YYZX001396, orgId=10, orgName=啄木鸟, deptId=6610, deptName=客诉三组, positionId=8, positionName=普通投诉处理岗（正式）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=张钿, updater=王明明, createTime=Tue Apr 22 09:54:06 CST 2025, updateTime=Mon Jun 09 11:48:04 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=70, baseQuotaLv2=70, baseQuotaLv3=70, maxQuotaLv1=90, maxQuotaLv2=90, maxQuotaLv3=90, maxProcessQuotaLv1=1000, maxProcessQuotaLv2=1000, maxProcessQuotaLv3=1000, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0), ConfStaff4DistributeDTO(staffId=14145805, staffName=郑毅, staffNumber=zmn004784, orgId=10, orgName=啄木鸟, deptId=6311, deptName=客诉一组, positionId=12, positionName=普通投诉处理岗（试用）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=王明明, updater=王明明, createTime=Thu Jun 12 12:56:51 CST 2025, updateTime=Thu Jun 12 12:56:51 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=25, baseQuotaLv2=25, baseQuotaLv3=25, maxQuotaLv1=60, maxQuotaLv2=60, maxQuotaLv3=60, maxProcessQuotaLv1=500, maxProcessQuotaLv2=500, maxProcessQuotaLv3=500, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0), ConfStaff4DistributeDTO(staffId=14148566, staffName=杨鸿敏, staffNumber=zmn006038, orgId=10, orgName=啄木鸟, deptId=6311, deptName=客诉一组, positionId=12, positionName=普通投诉处理岗（试用）, bizLineIds=null, taskItemCategGroupIds=111, holdCompanyIds=null, holdProvinceIds=110000,310000,120000,500000,440000,320000,510000,330000,350000,370000,610000,420000,340000,430000,360000,410000,130000,520000,530000,450000,210000,460000,150000,140000,220000,620000,230000,640000,650000,630000,540000,810000,820000,710000, useAllCompanySp=2, holdCityIds=null, ignoreSignIn=1, ignoreShift=1, monitorLogon=1, disabled=1, deleted=1, creater=王明明, updater=王明明, createTime=Thu Jun 12 12:57:20 CST 2025, updateTime=Thu Jun 12 12:57:20 CST 2025, workStatus=10, baseQuota=null, maxQuota=null, maxProcessQuota=null, latelyQuota=null, baseQuotaLv1=25, baseQuotaLv2=25, baseQuotaLv3=25, maxQuotaLv1=60, maxQuotaLv2=60, maxQuotaLv3=60, maxProcessQuotaLv1=500, maxProcessQuotaLv2=500, maxProcessQuotaLv3=500, latelyQuotaLv1=0, latelyQuotaLv2=0, latelyQuotaLv3=0)]]";

        // 去除外层的类名和括号
        String cleaned = str.replaceAll("ConfStaff4DistributeDTO$", "")
                .replaceAll("^\\[\\[", "[")
                .replaceAll("$$", "");

        // 拆分为多个对象字符串
        String[] objects = cleaned.split("\\),");

        StringBuilder jsonArray = new StringBuilder("[");

        for (int i = 0; i < objects.length; i++) {
            String obj = objects[i].trim();

            // 将 key=value 转换为 "key":"value"
            String jsonStr = obj.replaceAll("(\\w+)=(.*?)(?=(, |$))", "\"$1\":\"$2\"")
                    .replaceAll("null", "\"\"");

            jsonArray.append("{").append(jsonStr).append("}");
            if (i < objects.length - 1) {
                jsonArray.append(",");
            }
        }

        jsonArray.append("]");

        System.out.println("jsonArray = " + jsonArray);
    }

}
